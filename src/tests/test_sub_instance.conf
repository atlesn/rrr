[instance_test_module]
module=test_module
test_method=test_anything
senders=instance_perl5
topic_filter=success
# Make sure the perl5 source function runs at least once
test_exit_delay_ms=1000

[instance_perl5]
module=perl5
senders=instance_buffer
duplicate=yes
backstop=no
perl5_file=test_sub_instance.pl
perl5_config_sub=config
perl5_source_sub=source
perl5_process_sub=process
perl5_do_include_build_directories=yes
param=main

[instance_perl5[sub_a]]
role=first
generate_topic=a-to-b
param=a

[instance_perl5[sub_b]]
role=second
read_topic=a-to-b
generate_topic=success
param=b

[instance_buffer]
module=buffer
senders=instance_perl5
topic_filter=a-to-b
